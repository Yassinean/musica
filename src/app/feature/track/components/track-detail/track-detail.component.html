<div class="min-h-screen bg-gradient-to-br from-gray-900 to-indigo-900 text-white py-16 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
  <!-- Animated background elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-float"></div>
    <div class="absolute top-1/2 right-0 w-96 h-96 bg-indigo-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-float animation-delay-2000"></div>
    <div class="absolute bottom-0 left-1/4 w-96 h-96 bg-pink-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-float animation-delay-4000"></div>
  </div>

  <div class="relative max-w-4xl mx-auto">
    <ng-container *ngIf="track$ | async as track; else loading">
      <div class="flex flex-col md:flex-row items-center md:items-start space-y-8 md:space-y-0 md:space-x-8">
        <!-- Album Cover -->
        <div class="w-64 h-64 rounded-lg overflow-hidden shadow-lg">
          <img [src]="currentImageUrl || defaultCoverImage" [alt]="track.title + ' cover'" class="w-full h-full object-cover">
        </div>

        <!-- Track Details -->
        <div class="flex-1 text-center md:text-left">
          <h1 class="text-4xl font-bold mb-2">{{ track.title }}</h1>
          <p class="text-xl text-gray-300 mb-4">{{ track.artist }}</p>
          <p class="text-gray-400 mb-6">{{ track.description }}</p>
          <p class="text-gray-400 mb-6">{{ track.category }}</p>

          <!-- Player Controls -->
          <div class="flex justify-center md:justify-start items-center space-x-4 mb-6">
            <button (click)="playPrevious()" class="text-white hover:text-purple-400 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
              </svg>
            </button>
            <button (click)="handlePlayClick()" class="bg-purple-600 hover:bg-purple-700 text-white rounded-full p-3 transition-colors">
              <svg *ngIf="playerState !== 'STOPPED'" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
              </svg>
              <svg *ngIf="playerState === 'PLAYING'" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </button>
            <button (click)="playNext()" class="text-white hover:text-purple-400 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
              </svg>
            </button>
            <div class="relative">
              <button (click)="toggleVolumeSlider()" class="text-white hover:text-purple-400 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                </svg>
              </button>
              <input
                *ngIf="showVolumeSlider"
                type="range"
                min="0"
                max="1"
                step="0.01"
                [value]="volume"
                (input)="onVolumeChange($event)"
                class="absolute left-0 bottom-full mb-2 w-32 appearance-none bg-purple-200 h-1 rounded-full outline-none"
              >
            </div>
          </div>

          <!-- Progress Bar -->
          <div class="mb-4">
            <input
              type="range"
              min="0"
              max="100"
              [value]="getProgress()"
              (input)="onProgressChange($event)"
              class="w-full appearance-none bg-purple-200 h-1 rounded-full outline-none"
            >
            <div class="flex justify-between text-sm text-gray-400 mt-1">
              <span>{{ formatTime(currentTime) }}</span>
              <span>{{ formatTime(duration) }}</span>
            </div>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-template #loading>
      <div class="flex justify-center items-center h-64">
        <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"></div>
      </div>
    </ng-template>
  </div>
</div>

